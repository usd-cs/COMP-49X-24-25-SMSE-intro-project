{% extends 'posts/base.html' %}

{% block content %}
  <p>This is the home.html page with all the posts</p>

  {% if posts %}
  {% for post in posts %}
      <div class="post">
          <p>{{ post.content }}</p>
          <p>Posted by: {{ post.author }}</p>
          <p>Created at: {{ post.created_at }}</p>

          <div class="comments">
            <h4>Comments:</h4>
            {% for comment in post.comments.all %}
                <div class="comment">
                    <p>{{ comment.content }}</p>
                    <p>Comment by: {{ comment.author }} at {{ comment.created_at }}</p>
                </div>
            {% empty %}
                <p>No comments yet.</p>
            {% endfor %}
          </div>
      </div>
  {% endfor %}
{% else %}
  <p>No posts available.</p>
{% endif %}
{% endblock %}
